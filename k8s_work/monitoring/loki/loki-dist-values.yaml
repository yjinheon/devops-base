loki:
  # 인증 비활성화 (필수)
  auth_enabled: false
  memcached:
    chunk_cache:
      enabled: false
    results_cache:
      enabled: false
  chunksCache.enabled: false
  # memberlist 비활성화 (분산모드가 아님)
  memberlist:
    join_members: []
    abort_if_cluster_join_fails: false # 클러스터 조인 실패해도 부팅 계속

  schemaConfig:
    configs:
      - from: '2024-04-01'
        store: tsdb
        object_store: azure
        schema: v13
        index:
          prefix: loki_index_
          period: 24h
  ingester:
    chunk_encoding: snappy
  storage:
    type: azure
    azure:
      # Azure Blob Storage 계정명
      accountName: scvlokistorage
      connectionString: someconnectionstrings
      useManagedIdentity: false
      useFederatedToken: false
      # 요청 타임아웃 (초)
      requestTimeout: 30
      # Azure Blob 엔드포인트 접미사 (Azure Global: core.windows.net)
      endpointSuffix: core.windows.net

    bucketNames:
      chunks: 'chunks'
      ruler: 'ruler'
      admin: 'admin'
# MinIO 비활성화
minio:
  enabled: false
# 단일 프로세스 실행 (분산 아님)
deploymentMode: SingleBinary
singleBinary:
  replicas: 2
  persistence:
    enabled: true
    storageClass: managed-csi # Azure Managed Disk 클래스 (필요 시 managed-premium 등으로 변경)
    accessModes:
      - ReadWriteOnce
    size: 30Gi
  resources:
    requests:
      memory: 512Mi
      cpu: 250m
  service:
    type: ClusterIP
    ports:
      http: 3100

memcachedChunks:
  enabled: false
memcachedFrontend:
  enabled: false
memcachedIndexQueries:
  enabled: false
memcachedIndexWrites:
  enabled: false

chunksCache:
  enabled: false

# 분산 모드 관련 컴포넌트 비활성화
backend:
  replicas: 0
read:
  replicas: 0
write:
  replicas: 0
ingester:
  replicas: 0
querier:
  replicas: 0
queryFrontend:
  replicas: 0
queryScheduler:
  replicas: 0
distributor:
  replicas: 0
compactor:
  replicas: 0
indexGateway:
  replicas: 0
bloomCompactor:
  replicas: 0
bloomGateway:
  replicas: 0
